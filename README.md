# WeekCrew

WeekCrew ‚Äî –≤–µ–±‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ‚ÄëPWA –¥–ª—è ¬´–∫—Ä—É–∂–∫–æ–≤ –Ω–µ–¥–µ–ª–∏¬ª.  
–ö–∞–∂–¥—ã–µ 7 –¥–Ω–µ–π –º—ã —Å–æ–±–∏—Ä–∞–µ–º –º–∞–ª–µ–Ω—å–∫–∏–µ –ª–∞–º–ø–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ –∏–Ω—Ç–µ—Ä–µ—Å–∞–º (3‚Äì8 —á–µ–ª–æ–≤–µ–∫), –¥–∞—ë–º –∞–π—Å–±—Ä–µ–π–∫–µ—Ä—ã –∏ —Ç—ë–ø–ª—ã–π —Ç–∞–π–º–µ—Ä –æ–±—â–µ–Ω–∏—è ‚Äî –∞ –∑–∞—Ç–µ–º –º—è–≥–∫–æ –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –Ω–∞—á–∞—Ç—å –Ω–æ–≤—ã–π –∫—Ä—É–≥.

---

## –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∏—á–∏

- üéØ –í—ã–±–æ—Ä –Ω–∞—Å—Ç—Ä–æ—è –∏ —Ç–µ–º—ã ‚Äî –æ—Ç —Å–ø–æ–∫–æ–π–Ω–æ–≥–æ —á–∞—Ç–∞ –¥–æ –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–∏—Ö —Ö–æ–±–±–∏.
- üßä –ê–π—Å–±—Ä–µ–π–∫–µ—Ä –¥–Ω—è –∏ –ø—Ä–æ—Å—Ç–∞—è –ª–µ–Ω—Ç–∞ –±–µ–∑ –ª–∞–π–∫–æ–≤ –∏ —Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç–∏.
- üîê –ê–Ω–æ–Ω–∏–º–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (`deviceId`), –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.
- üîÑ –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –º–∏–∫—Ä–æ–∫—Ä—É–≥–∏: –ø–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –Ω–µ–¥–µ–ª–∏ —á–∞—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è read‚Äëonly.
- ‚ö° –°–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ Prisma + PostgreSQL (Neon).
- üì± PWA, –º–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –ø–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ Framer Motion.

---

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Next.js 14 (App Router)**
- **TypeScript**
- **Tailwind CSS**
- **Framer Motion**
- **Zustand**
- **Prisma ORM**
- **PostgreSQL / Neon**

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18+
- npm 9+
- PostgreSQL / Neon —Å–æ —Å—Ç—Ä–æ–∫–æ–π –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
npm install
cp .env.example .env.local
# –í—Å—Ç–∞–≤—å—Ç–µ DATABASE_URL –∏–∑ Neon/Postgres
export NEXT_PUBLIC_WEEKCREW_MODE=live
npx prisma migrate dev --name init_weekcrew
npm run dev
```

–û—Ç–∫—Ä—ã—Ç—å: http://localhost:3000

---

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|----------|
| `NEXT_PUBLIC_WEEKCREW_MODE` | —Ä–µ–∂–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: `live` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –¥–ª—è –æ–±—â–µ–≥–æ —á–∞—Ç–∞, `demo` ‚Äî —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ |
| `DATABASE_URL` | —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL / Neon |

–ë–µ–∑ –Ω–µ—ë WeekCrew —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –¥–µ–º–æ‚Äë—Ä–µ–∂–∏–º–µ (–≤—Å—ë –ª–æ–∫–∞–ª—å–Ω–æ).

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–î (Neon)

1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Neon.
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ connection string –≤ `.env.local`.
3. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏:

```bash
npx prisma migrate dev --name init_weekcrew
```

### –ü—Ä–æ–¥–∞–∫—à–µ–Ω –Ω–∞ Vercel

1. –î–æ–±–∞–≤—å—Ç–µ `DATABASE_URL` –≤ Environment Variables.
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
npx prisma migrate deploy
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
prisma/
  schema.prisma
  migrations/

src/
  app/
    page.tsx
    explore/
    circle/
    settings/
    api/
      circles/
        join/route.ts
        current/route.ts
      messages/route.ts
  components/
  lib/
    device.ts
    api-client.ts
    liveWeekcrewStorage.ts
    prisma.ts
  store/
    useAppStore.ts
  types/

public/
  manifest.json
  icon.svg
  service-worker.js
```

---

## PWA

- `public/manifest.json` ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- `service-worker.js` ‚Äî –æ—Ñ—Ñ–ª–∞–π–Ω-–∫–µ—à.

---

## –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

- –ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ `DATABASE_URL` ‚Äî –∂–∏–≤–æ–π —Ä–µ–∂–∏–º —Å —Å–µ—Ä–≤–µ—Ä–æ–º.
- –ë–µ–∑ ‚Äî –¥–µ–º–æ‚Äë—Ä–µ–∂–∏–º (–¥–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ–∫–∏–¥–∞—é—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ).

---

## –õ–æ–≥–∏–∫–∞ –∂–∏–≤–æ–≥–æ –∫—Ä—É–∂–∫–∞

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π –∏ —Ç–µ–º—É –Ω–∞ `/explore`.
2. –ö–ª–∏–µ–Ω—Ç –≤—ã–∑—ã–≤–∞–µ—Ç `POST /api/circles/join`.
3. –°–µ—Ä–≤–µ—Ä –∏—â–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–π –∞–∫—Ç–∏–≤–Ω—ã–π –∫—Ä—É–≥ –∏–ª–∏ —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π.
4. –£—á–∞—Å—Ç–∏–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ `CircleMembership`.
5. –°–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `POST /api/messages` –∏ —á–∏—Ç–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `GET /api/messages`.
6. –ü–æ –æ–∫–æ–Ω—á–∞–Ω–∏–∏ –Ω–µ–¥–µ–ª–∏ –∫—Ä—É–≥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è read‚Äëonly.

---

## –î–µ–ø–ª–æ–π

### Vercel

1. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
2. –î–æ–±–∞–≤—å—Ç–µ `DATABASE_URL`.
3. –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ `npm install` (—Å–º. `postinstall`, baseline + `migrate deploy`).

4. –ö–∞–∂–¥—ã–π `git push` —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –¥–µ–ø–ª–æ–π.

---

## npm‚Äë—Å–∫—Ä–∏–ø—Ç—ã

| –°–∫—Ä–∏–ø—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|
| `npm run dev` | Dev‚Äë—Å–µ—Ä–≤–µ—Ä |
| `npm run build` | –ü—Ä–æ–¥‚Äë—Å–±–æ—Ä–∫–∞ |
| `npm start` | –ó–∞–ø—É—Å–∫ –ø—Ä–æ–¥‚Äë—Ä–µ–∂–∏–º–∞ |
| `npm run lint` | ESLint |
| `npm run format` | Prettier |

---

–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∫—Ä—É–≥ –Ω–µ–¥–µ–ª–∏ üíú
